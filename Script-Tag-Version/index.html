<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Aurelia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <div>
    Here's some content. It isn't handled by Aurelia.
  </div>


  <mygrid>
    <div>
      <table cellspacing="0" rules="all" border="1" id="myGrid" style="border-collapse:collapse;">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">First Order Date</th>
        </tr>
        <tr>
          <td>1</td>
          <td>Jeff</td>
          <td>Fritz</td>
          <td>5/9/2006</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Mary</td>
          <td>Contrary</td>
          <td>5/27/2000</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Joe</td>
          <td>Bag O&#39;Donuts</td>
          <td>10/22/2003</td>
        </tr>
      </table>
    </div>
  </mygrid>

  <script src="scripts/system.js"></script>
  <script src="scripts/config-esnext.js"></script>
  <script src="scripts/aurelia-core.js"></script>
  <script>

Promise.all([System.import('aurelia-bootstrapper'),System.import('aurelia-framework')])
.then(([bootstrapper, framework]) => {

  bootstrapper.bootstrap((aurelia) => {
    aurelia.use
    .basicConfiguration()
    .developmentLogging();

    configure(aurelia, framework);

    aurelia.start().then(app => {
        aurelia.enhance();
    });
  });
});

  function configure(aurelia, framework) {
    const inlineView = framework.inlineView;

    // begin generated code
    var button_1 = function(){
      function button_1() {
        this.buttonText = 'Click me 1';
        this.columns = [
          'ID',
          'First Name',
          'Last Name',
          'First Order Date'
        ];
      }

      button_1.prototype.showMessage = function () {
        alert("I was clicked 1");
      }

      return button_1;
    }();
    inlineView('<template>I\'m from a string template 1. <slot></slot><button click.delegate="showMessage()">${buttonText}</button><ul><li repeat.for="column of columns">${column}</li></ul></template>')(button_1);

    System.set('button_1', System.newModule({
      'button_1': button_1
    }));

    aurelia.use.globalResources('button_1')//, 'button-two');

    var mygrid = function() {
      function mygrid() {
        this.columns = [
          'ID',
          'First Name',
          'Last Name',
          'First Order Date'
        ];
      }

      return mygrid;
    }();

    // inlineView('' +
    // '<template>' +
    // '  <table>' +
    // '    <tr>' +
    // '      <th repeat.for="column of columns">' +
    // '        Header: ${column}' +
    // '      </th>' +
    // '    </tr>' +
    // '    <tr>' +
    // '      <td>' +
    // '        Hello' +
    // '      </td>' +
    // '    </tr>' +
    // '  </table>' +
    // '</template' +
    // '')(mygrid);
    inlineView('<template><ul><li repeat.for="column of columns">${column}</li></ul></template>')(mygrid);
    System.set('mygrid', System.newModule({ 'mygrid': mygrid }));
    aurelia.use.globalResources('mygrid');
    // end generated code
  }

        // aureliaViewModelDefinitions.Button_2 = class {
        //   constructor() {
        //     this.buttonText = 'Click me 2';
        //   }

        //   showMessage() {
        //     alert("I was clicked 2");
        //   }
        // };


        // aureliaViewModelDefinitions.Button_3 = class {
        //   constructor() {
        //     this.buttonText = 'Click me 3';
        //   }

        //   showMessage() {
        //     alert("I was clicked 3");
        //   }
        // };

        // inlineView('<template>I\'m from a string template. <button click.delegate="showMessage()">${buttonText}</button></template>')(aureliaViewModelDefinitions.Button_3);

        // let templatingEngine = app.container.get(TemplatingEngine);
        // let elements = document.querySelectorAll("*[aspx-enhance]");

        // for(const element of elements) {
        //   const vmClassName = element.getAttribute('aspx-enhance');

        //   const vm = new aureliaViewModelDefinitions[vmClassName];

        //   templatingEngine.enhance({
        //     container: app.container,
        //     element: element,
        //     resources: app.resources,
        //     bindingContext: vm
        //   });
        // }
  </script>
</body>

</html>
